{% extends "base.html" %}
{% block meta_tags %}
<meta name="google-site-verification" content="U1sI4UZAdEVS_0seZnE7MC97P1Ho6Hecg3wumfV5KoA" />
<meta name="msvalidate.01" content="E86159A5D7A52A1AF52A3024B0ECC27F" />
{% endblock %}
{% block title %}Water Quality Data Home{% endblock %}

{% block nav_bar %}{% endblock %}

{% block page_content %}

<!-- Basic Form -->
<div id="basicForm">
	<div id="formIntro">

		<div class="usa-alert usa-alert--info usa-alert--no-icon welcome-section">
			<div class="usa-alert__body">
				<p class="usa-alert__text">
					<b>Welcome to the new Water Quality Portal</b><br>
					To download data follow the instructions on each step. Returning and experienced users may wish to
					use the <span style="color:#005ea2; cursor: pointer" @click="toggleForms">Advanced Download</span>.
				</p>
			</div>
		</div>

		<div id="formInroFooter">

			<div class="footer-flex">
				<button class="usa-button usa-button--outline" @click="closeIntro">Close Intro</button>
			</div>


			<!-- Don't show again checkbox -->
			<div class="footer-flex">
				<div class="usa-checkbox">
					<input class="usa-checkbox__input" id="dont-show-again" type="checkbox" name="dont-show-again">
					<label class="usa-checkbox__label" for="dont-show-again">Don't show again on this computer</label>
				</div>
			</div>
		</div>
	</div>
	<h3 class="site-preview-heading">Download Water Quality Data</h3>
	<div class="usa-step-indicator" aria-label="progress">
		<ol v-if="steps" class="usa-step-indicator__segments" :class="{            
					'usa-step-indicator--counters': showStepNumbers && size != 'sm',
					'usa-step-indicator--counters-sm': showStepNumbers && size == 'sm',
					'usa-step-indicator--center': centerLabels
				}">
			<li v-for="(item, index) in steps" :key="index" class="usa-step-indicator__segment"
				:aria-current="(step == index) ? true : false" :class="{
							'usa-step-indicator__segment--complete': step <= index,
							'usa-step-indicator__segment--current': step == index}">
				<span class="usa-step-indicator__segment-label">
					<span v-if="item.title && showLabels">[[item.title]]</span>
					<span v-else-if="showLabels">[[item]]</span>
					<span v-if="step < index" class="usa-sr-only">completed</span>
					<span v-if="step < index" class="usa-sr-only">not completed</span>
				</span>
			</li>
		</ol>
		<div class="usa-step-indicator__header mt-1">
			<h2 class="usa-step-indicator__heading">
				<span class="usa-step-indicator__heading-counter">
					<span class="usa-sr-only">Step</span>
					<span class="usa-step-indicator__current-step">[[step+1]]</span>
					<span class="usa-step-indicator__total-steps">of [[steps.length]]</span>
				</span>
				<slot name="title" v-bind="{ currentTitle }">
					<span class="usa-step-indicator__heading-text" @click="onClickTitle()">[[currentTitle]]</span>
				</slot>
			</h2>
		</div>
	</div>
	<div id="basicLocation" class="basicForm">
		<p>Specify location parameters to describe the spatial extent of the desired dataset. Additional options are
			available in the <span style="color:#005ea2; cursor: pointer" @click="toggleForms">Advanced Download</span>.
		</p>

		<div class="formSection">
			<label for="countrycodeBasic" class="tooltip">
				<b>Country</b></label>
			<div>
				<select multiple class="form-control" id="countrycodeBasic" name="countrycodeBasic"
					data-placeholder="All Countries" style="width: 50%"></select>
			</div>
		</div>
		<div class="formSection">
			<label class="tooltip" for="statecodeBasic"><b>State</b></label>
			<div>
				<select multiple class="form-control" id="statecodeBasic" name="statecodeBasic"
					data-placeholder="All States" style="width: 50%"></select>
			</div>
		</div>
		<div class="formSection">
			<label class="tooltip" class="control-label" for="countycodeBasic"><b>County</b></label>
			<div>
				<select multiple class="form-control" id="countycodeBasic" name="countycodeBasic"
					data-placeholder="All Counties" style="width: 50%"></select>
			</div>
		</div>
		<div id="point-location" style="display: inline-block">

			<table class="pointLocationTable">
				<thead>
					<tr>
						<th class="pointLocationTable-cell"></th>
						<th class="pointLocationTable-cell"><b>Miles</b></th>
						<th class="pointLocationTable-cell"></th>
						<th class="pointLocationTable-cell"><b>Lat</b></th>
						<th class="pointLocationTable-cell"><b>Long</b></th>
						<th class="pointLocationTable-cell"></th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td class="pointLocationTable-cell">Within</td>
						<td class="pointLocationTable-cell"><input class="smallInput" type="text" name="withinBasic"
								id="withinBasic" /></td>
						<td class="pointLocationTable-cell">of</td>
						<td class="pointLocationTable-cell"><input class="smallInput" type="text" name="latBasic" placeholder="0"
								size="7" id="latBasic" v-model="latBasic"></input></td>
						<td class="pointLocationTable-cell"><input class="smallInput" type="text" name="longBasic" placeholder="0"
								id="longBasic" v-model="lonBasic"></input></td>
						<td class="pointLocationTable-cell"><button id="useMyLocationBasic"
								class="usa-button usa-button--outline" type="button">Use my location</button></td>
					</tr>
				</tbody>
			</table>
		</div>
		<div class="formSection">
			<label class="tooltip" class="control-label" for="siteTypeBasic"><b>Site Type</b></label>
			<div>
				<select multiple class="form-control" id="siteTypeBasic" name="siteTypeBasic"
					data-placeholder="All Site Types" style="width: 50%"></select>
			</div>
		</div>
		<div class="menu-buttons">
			<button class="usa-button usa-button--outline">Clear Paramters</button>
			<button class="usa-button" v-on:click="onPrev()">Previous</button>
			<button class="usa-button" v-on:click="onNext()">Next</button>
		</div>
	</div>
	<div id="basicFilterResults" class="basicForm">
		<p>Specify data source, date range, and sampling filters to apply to the desired dataset. Additional options are
			available in the <span style="color:#005ea2; cursor: pointer" @click="toggleForms">Advanced Download</span>.
		</p>
		<div class="formSection">
			<label class="tooltip" class="control-label" for="datasourceBasic"><b>Data Source</b></label>
			<div>
				<select multiple class="form-control" id="datasourceBasic" name="datasourceBasic"
					data-placeholder="All Data Sources" style="width: 50%"></select>
			</div>
		</div>
		<div class="formSection dateRange">
			<div class="tooltip" class="control-label" for="dateRangeBasic"><b>Data Range</b></div>
			<div style="margin-top: -15px;">
				<div class="usa-form-group" style="width:45%; float: left" id="startDate">
					<label class="usa-label" id="event-date-start-label" for="event-date-start"><b>Event start
							date</b></label>
					<div class="usa-hint" id="event-date-start-hint">mm/dd/yyyy</div>
					<div class="usa-date-picker">
						<input class="usa-input" id="event-date-start" name="event-date-start" type="text"
							aria-describedby="event-date-start-label event-date-start-hint" />
					</div>
				</div>
				<div class="usa-form-group" id="endDate">
					<label class="usa-label" id="event-date-end-label" for="event-date-end"><b>Event end
							date</b></label>
					<div class="usa-hint" id="event-date-end-hint">mm/dd/yyyy</div>
					<div class="usa-date-picker">
						<input class="usa-input" id="event-date-end" name="event-date-end" type="text"
							aria-describedby="event-date-end-label event-date-end-hint" />
					</div>
				</div>
			</div>
		</div>
		<div class="formSection">
			<label class="tooltip" class="control-label" for="sampleMediaBasic"><b>Sample Media</b></label>
			<div>
				<select multiple class="form-control" id="sampleMediaBasic" name="sampleMediaBasic"
					data-placeholder="All Sample Media" style="width: 50%"></select>
			</div>
		</div>
		<div class="formSection">
			<label class="tooltip" class="control-label" for="charGroupBasic"><b>Characteristic Group</b></label>
			<div>
				<select multiple class="form-control" id="charGroupBasic" name="charGroupBasic"
					data-placeholder="All Characteristic Groups" style="width: 50%"></select>
			</div>
		</div>
		<div class="menu-buttons">
			<button class="usa-button usa-button--outline">Clear Filters</button>
			<button class="usa-button" v-on:click="onPrev()">Previous</button>
			<button class="usa-button" v-on:click="onNext()">Next</button>
		</div>
	</div>
	<div id="basicDownload" class="basicForm">
		<p>Specify a data type and file format to donload. Additional options are available in the <span
				style="color:#005ea2; cursor: pointer" @click="toggleForms">Advanced Download</span>.
		</p>
		<div class="formSection">
			<label class="tooltip" class="required-field" for="dataTypeBasic"><b>Data Type</b></label>
			<div>
				<select multiple class="form-control" id="dataTypeBasic" name="dataTypeBasic"
					data-placeholder="Select a type" style="width: 50%"></select>
			</div>
		</div>
		<div class="formSection">
			<label class="tooltip" class="control-label" for="fileFormatBasic"><b>File Format</b></label>
			<div>
				<select multiple class="form-control" id="fileFormatBasic" name="fileFormatBasic"
					data-placeholder="Select a format" style="width: 50%"></select>
			</div>
		</div>
		<div class="usa-checkbox basicSortDataCheckbox" >
			<input class="usa-checkbox__input" id="sortDataBasic" type="checkbox" name="sortDataBasic" value="true"
				checked />
			<label class="usa-checkbox__label" for="sortDataBasic">Sort Data</label>
		</div>
		<div class="menu-buttons">
			<button class="usa-button usa-button--outline">Start Over</button>
			<button class="usa-button" v-on:click="onPrev()">Previous</button>
			<button class="usa-button">Download</button>
		</div>
	</div>
</div>

<div id="advancedForm">
	<form role="form" id="params" name="params" autocomplete="off" method="post" action="
                          {%  if config.WATERAUTH_AUTHORIZE_URL %}
                            {{ url_for('portal_ui.wqp_download_proxy', op='Station')}}
                          {%  else %}
                            {{ config.SEARCH_QUERY_ENDPOINT }}Station/search
                            {% endif %}
                            ">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
        <div id="place">
          <div class="grid-col">
            <div class="usa-accordion">
              <h4 class="usa-accordion__heading">
                <button class="usa-accordion__button" aria-expanded="true" aria-controls="locationaccordion">
                  Select Location Parameters
                </button>
              </h4>
              <div id="locationaccordion" class="usa-accordion__content usa-prose">
                <div>Use the location parameters to describe the spatial extent of the desired dataset.
                </div>
                <br>
                <div class="grid-row grid-gap">
                  <div class="tablet:grid-col-3">
                    <div class="form-group">
                      <label><strong>Country </strong></label><label class="tooltip" class="control-label" for="control-label" :title="countryTooltip"><span style="color: #565c65
                        ;"><i class="fa fa-info-circle"></i></span></label>
                      <div>
                        <select multiple class="form-control" id="countrycode" name="countrycode" data-placeholder="All Countries"
                          style="width: 90%" aria-label="Input box for country parameter"></select>
                      </div>
                    </div>
                    <br>
                    <div class="form-group">
                      <label><strong>State </strong></label><label class="tooltip" class="control-label" for="control-label" :title="stateTooltip"><span style="color: #565c65;"><i class="fa fa-info-circle"></i></span></label>
                        <div>
                        <select multiple class="form-control" id="statecode" name="statecode" data-placeholder="All States"
                          style="width: 90%" aria-label="Input box for state parameter"></select>
                      </div>
                    <br>
                    <div class="form-group">
                      <label><strong>County </strong></label><label class="tooltip" class="control-label" for="control-label" :title="countyTooltip"><span style="color: #565c65;"><i class="fa fa-info-circle"></i></span></label>
                      <div>
                        <select multiple class="form-control" id="countycode" name="countycode" data-placeholder="All Counties"
                          style="width: 90%" aria-label="Input box for county parameter"></select>
                      </div>
                    </div>
                  </div>
                </div>
                  <div class="tablet:grid-col-3">
                    <div id="point-location">
                      <div>
                        <label><strong>Point Location </strong></label><label class="tooltip" :title="pointLocationTooltip"><span style="color: #565c65;"><i class="fa fa-info-circle"></i></span></label>
                      </div>
                      <div>
                        <div class="form-group">
                          <label class="control-label" for="within">Within</label>
                          <div>
                            <input class="form-control" type="text" name="within" size="16" id="within" aria-label="First of three input boxes for point location parameter. Input box for number of miles from point." />
                          </div>
                        </div>
                        <div id="miles-label">miles of</div>
                        <div class="form-group">
                          <label class="control-label" for="lat">Latitude</label>
                          <div>
                            <input class="form-control" type="text" name="lat" size="16" id="lat" placeholder="0" aria-label="Second of three input boxes for point location parameter. Input box for latitude." />
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label" for="long">Longitude</label>
                          <div>
                            <input class="form-control" type="text" name="long" size="16" id="long" placeholder="0" aria-label="Third of three input boxes for point location parameter. Input box for longitude." />
                          </div>
                        </div>
                        <svg class="usa-icon" aria-hidden="true" focusable="false" role="img">
                          <use xlink:href="{{ 'img/sprite.svg#my_location' | asset_url }}"></use>
                        </svg>
                        <div id="useMyLocation"></div>
                      </div>
                    </div>
                  </div>
                  <div class="tablet:grid-col-3">
                    <div id="bounding-box">
                    <div>
                    <label><strong>Bounding Box </strong></label><label class="tooltip" :title="boundingBoxTooltip"><span style="color: #565c65;"><i class="fa fa-info-circle"></i></span></label>
                    </div>
                      <div>
                        <div class="form-group">
                          <label class="control-label" for="north">North:</label>
                          <div>
                            <input class="form-control" type="text" size="16" id="north" placeholder="90" aria-label="First of four input boxes for bounding box parameter. Input box for north latitude." />
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label" for="south">South:</label>
                          <div>
                            <input class="form-control" type="text" size="16" id="south" placeholder="-90" aria-label="Second of four input boxes for bounding box parameter. Input box for south latitude." />
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label" for="east">East:</label>
                          <div>
                            <input class="form-control" type="text" size="16" id="east" placeholder="180" aria-label="Third of four input boxes for bounding box parameter. Input box for east longitude." />
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label" for="west">West:</label>
                          <div>
                            <input class="form-control" type="text" size="16" id="west" placeholder="-180" aria-label="Fourth of four input boxes for bounding box parameter. Input box for west longitude." />
                          </div>
                        </div>
                      </div>
                      <input type="hidden" name="bBox" />
                    </div>
                    </div>
                    <div class="tablet:grid-col-3">
                      <div id="site-params">
                        <div class="form-group">
                          <label><strong>Site Type </strong></label><div class="tooltip" :title="siteTypeTooltip">
                            <label class="control-label" for="control-label"><span style="color: #565c65;"><i class="fa fa-info-circle"></i></span></label>
                          </div>
                            <div>
                              <select multiple id="siteType" name="siteType" data-placeholder="All Site Types"
                                style="width: 90%" aria-label="Input box for site type parameter"></select>
                            </div>
                          </div>
                          <br>
                        <div class="form-group">
                          <label><strong>Organization ID </strong></label><div class="tooltip" :title="orgIDTooltip">
                            <label class="control-label" for="control-label"><span style="color: #565c65;"><i class="fa fa-info-circle"></i></span></label>
                          </div>
                            <div>
                              <select multiple id="organization" name="organization"
                                data-placeholder="All Organization IDs" style="width: 90%" aria-label="Input box for organization ID parameter"></select>
                            </div>
                          </div>
                          <br>
                        <div class="form-group">
                          <label><strong>Site ID </strong></label><div class="tooltip" :title="siteIDTooltip">
                            <label class="control-label" for="control-label"><span style="color: #565c65;"><i class="fa fa-info-circle"></i></span></label>
                          </div>
                            <div>
                              <select multiple id="siteid" input class="form-control" name="siteid" data-placeholder="All Site IDs"
                                style="width: 90%" aria-label="Input box for site ID parameter"></select>
                            </div>
                          </div>
                          <br>
                        <div class="form-group">
                          <label><strong>HUC </strong></label><div class="tooltip" :title="hucTooltip">
                            <label class="control-label" for="control-label"><span style="color: #565c65;"><i class="fa fa-info-circle"></i></span></label>
                          </div>
                            <div>
                              <input class="form-control" type="text" name="huc" id="huc" data-multiple="true" placeholder="All HUCs" size="16" aria-label="Input box for HUC parameter" />
                            </div>
                          </div>
                        </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="siteSamplingParams">
          <div class="grid-col">
            <div class="usa-accordion">
              <h4 class="usa-accordion__heading">
                <button class="usa-accordion__button" aria-expanded="true" aria-controls="filteraccordion">
                  Filter Results
                </button>
              </h4>
              <div id="filteraccordion" class="usa-accordion__content usa-prose">
                <div>Use the site and sampling parameters to describe the type of location where desired data was collected and information about the desired data.</div>    
                <br>  
                  <div id="sampling-params" class="panel panel-default">
                    <div class="panel-body">
                      <div id="sampling" class="subpanel">
                        <div class="subpanel-body">
                          <div class="grid-row grid-gap">
                            <div class="tablet:grid-col-4">
                                <label><strong>Sample Media </strong></label><div class="tooltip" :title="sampleMediaTooltip">
                                <label class="control-label" for="control-label"><span style="color: #565c65;"><i class="fa fa-info-circle"></i></span></label>
                                </div>
                                <div>
                                  <select multiple class="form-control" name="sampleMedia" id="sampleMedia"
                                    data-placeholder="All Sample Media" style="width: 90%" aria-label="Input box for sample media parameter"></select>
                              </div>
                              <br>
                              <label><strong>Characteristic Group </strong></label><div class="tooltip" :title="charGroupTooltip">
                                <label class="control-label" for="control-label"><span style="color: #565c65;"><i class="fa fa-info-circle"></i></span></label>
                              </div>
                                <div>
                                  <select multiple class="form-control" name="characteristicType" id="characteristicType"
                                    data-placeholder="All Characteristic Groups" style="width: 90%" aria-label="Input box for characteristic groups parameter"></select>
                                </div>
                                <br>
                              <label><strong>Characteristics </strong></label><div class="tooltip" :title="characteristicsTooltip">
                                <label class="control-label" for="control-label"><span style="color: #565c65;"><i class="fa fa-info-circle"></i></span></label>
                              </div>
                                <div>
                                  <select multiple class="form-control" name="characteristicName" id="characteristicName"
                                    data-placeholder="All Characteristics" style="width: 90%" aria-label="Input box for characteristics parameter"></select>
                                </div>
                              <br>
                              <label><strong>Project ID </strong></label><div class="tooltip" :title="projectIDTooltip">
                                <label class="control-label" for="control-label"><span style="color: #565c65;"><i class="fa fa-info-circle"></i></span></label>
                              </div>
                                <div>
                                  <select multiple class="form-control" name="project" id="project-code"
                                    data-placeholder="All Project IDs" style="width: 90%" aria-label="Input box for project ID parameter"></select>
                                </div>
                              </div>
                                <div class="tablet:grid-col-4">
                              <label><strong>Parameter Code</strong>
                                  <span style="font-size: x-small">(NWIS ONLY) </span></label><div class="tooltip" id="pcode-div" :title="paramCodeTooltip">
                                <label class="control-label" for="control-label"><span style="color: #565c65;"><i class="fa fa-info-circle"></i></span></label>
                                  </div>
                                <div>
                                  <input class="form-control usa-label" type="text" size="23" placeholder="All Parameter Codes" name="pCode" id="pCode"
                                    data-multiple="true" aria-label="Input box for parameter code parameter" />
                                </div>
                                <br>
                          <div id="biological" class="subpanel">
                            <div class="subpanel-heading">
                            <label><strong>Biological Sampling Parameters </strong><div class="tooltip" :title="bioSamplingTooltip" for="control-label">
                              <label for="control-label"></label><span style="color: #565c65;"><i class="fa fa-info-circle"></i></span>
                            </div>
                          </div>
                            <div class="subpanel-body">
                              <label><strong>Assemblage </strong></label><div class="tooltip" :title="assemblageTooltip">
                                <label for="control-label"><span style="color: #565c65;"><i class="fa fa-info-circle"></i></span></label>
                              </div>
                                <div>
                                  <select multiple name="assemblage" id="assemblage"
                                    data-placeholder="All Assemblages" style="width: 90%" aria-label="First of two input boxes for biological sampling parameters. Input box for assemblage parameter."></select>
                                </div>
                                <br>
                              <div class="form-group">
                                <label><strong>Taxonomic
                                  Name </strong></label><label class="tooltip" for="control-label" :title="taxNameTooltip"><span style="color: #565c65;"><i class="fa fa-info-circle"></i></span></label>
                                <div>
                                  <select multiple name="subjectTaxonomicName" aria-label="Select a taxonomic name"
                                    id="subject-taxonomic-name" data-placeholder="All Taxonomic Names" style="width: 90%" aria-label="Second of two input boxes for biological sampling parameters. Input box for taxonomic name parameter."></select>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                    <div class="tablet:grid-col-4">
                      <div id="date-row">
                        <div id="start-date-select">
                          <label><strong>Date range </strong>(mm/dd/yyyy) </label><div class="tooltip" :title="dateRangeTooltip">
                            <label for="control-label"><span style="color: #565c65;"><i class="fa fa-info-circle"></i></span></label>
                          </div>
                              <div>
                                <div>
                                  <label>from: </label><input class="form-control" type="text" id="startDateLo"
                                  name="startDateLo" placeholder="All Dates" size="18" aria-label="First of two input boxes for date range parameter. Input box for start date parameter." />
                                </div>
                              </div>
                            </div>
                        <div id="end-date-select">
                          <div>
                            <div>
                              <label class="control-label" for="startDateHi">to: </label> <input class="form-control" type="text" id="startDateHi"
                                name="startDateHi" placeholder="All Dates" size="20" aria-label="Second of two input boxes for date range parameter. Input box for end date parameter." />
                            </div>
                          </div>
                        </div>
                      </div>
                      <br>
                      <div id="min-activities-parameters-div">
                        <label><strong>Minimum sampling activities per site </strong></label><div class="tooltip" id="min-activities-div" :title="minSamplingTooltip">
                          <label class="control-label" for="control-label"><span style="color: #565c65;"><i class="fa fa-info-circle"></i></span></label>
                        </div>
                          <div>
                            <input class="form-control" type="number" min="1" name="minactivities" id="min-activities" placeholder="1" size="25" aria-label="Input box for minimum sampling activities per site parameter" />
                          </div>
                      </div>
                      <br>
                        <label><strong>Minimum results per site </strong></label><div class="tooltip" id="minresults-div" :title="minimumResultsTooltip">
                          <label class="control-label" for="control-label"><span style="color: #565c65;"><i class="fa fa-info-circle"></i></span></label>
                        </div>
                          <div>
                            <input class="form-control" type="number" min="1" name="minresults"
                              id="minresults" placeholder="1" size="25" aria-label="Input box for minimum results per site parameter" />
                          </div>
                      </div>
                    </div>
                  </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="grid-col">
    <div class="usa-accordion">
      <h4 class="usa-accordion__heading">
        <button class="usa-accordion__button" aria-expanded="true" aria-controls="downloadaccordion">
          Download the Data
        </button>
      </h4>
      <div id="downloadaccordion" class="usa-accordion__content usa-prose">
        <div>Use the download parameters to specify download preferences.</div>
        <br>
        <div>
          <div id="download-box" class="grid-row grid-gap">
            <div id="download-box-input-div" class="grid-row grid-gap">
              <div id="data-type-parameters-div" class="tablet:grid-col-3">
                <div class="panel-body">
                  <div class="form-group">
                    <label><strong>Data Source </strong></label><div class="tooltip" :title="databasesTooltip">
                      <label for="control-label"><span style="color: #565c65;"><i class="fa fa-info-circle"></i></span></label>
                    </div>
                    <fieldset class="usa-fieldset">
                      <div class="usa-checkbox">
                        <input class="datasources usa-checkbox__input" id="nwis" type="checkbox" name="providers"
                          value="NWIS" checked />
                        <label class="usa-checkbox__label" for="nwis">NWIS</label>
                      </div>
                      <div class="usa-checkbox">
                        <input class="datasources usa-checkbox__input" id="stewards" type="checkbox"
                          name="providers" value="STEWARDS" checked />
                        <label class="usa-checkbox__label" for="stewards">STEWARDS</label>
                      </div>
                      <div class="usa-checkbox">
                        <input class="datasources usa-checkbox__input" id="storet" type="checkbox" name="providers"
                          value="STORET" checked />
                        <label class="usa-checkbox__label" for="storet">EPA</label>
                      </div>
                    </fieldset>
                  </div>
                  <br>
                  <div id="download-tabular-data">
                    <label><strong>File Format </strong></label><div class="tooltip" :title="fileFormatTooltip">
                      <label for="control-label"><span style="color: #565c65;"><i class="fa fa-info-circle"></i></span></label>
                    </div>
                    <fieldset class="usa-fieldset">
                      <div class="usa-radio">
                        <input class="usa-radio__input" id="csv" type="radio" name="mimeType" value="csv"
                          checked="checked" />
                        <label class="usa-radio__label" for="csv">Comma-separated</label>
                      </div>
                      <div class="usa-radio">
                        <input class="usa-radio__input" id="tsv" type="radio" name="mimeType" value="tsv" />
                        <label class="usa-radio__label" for="tsv">Tab-separated</label>
                      </div>
                      <div class="usa-radio">
                        <input class="usa-radio__input" id="xlsx" type="radio" name="mimeType" value="xlsx" />
                        <label class="usa-radio__label" for="xlsx">MS Excel 2007+</label>
                      </div>
                    </fieldset>
                  </div>
                  <br>
                  <div id="download-sorted-data-div">
                    <input type="checkbox" id="sorted" aria-label="Checkbox for sort data parameter" />
                    <label><strong>Sort data </strong></label><div class="tooltip" :title="sortDataTooltip">
                      <label class="control-label" for="control-label"><span style="color: #565c65;"><i class="fa fa-info-circle"></i></span></label>
                    </div>
                  </div>
                  <input type="hidden" name="zip" id="zip" value="yes" />
                  <input type="hidden" name="sorted" id="hidden-sorted" value="no" />
                </div>
              </div>
              <div id="download-data-kind-box" class="tablet:grid-col-5">
                <label><strong>Data to Download </strong></label><div class="tooltip" id="download-data-div" :title="dataDownloadTooltip">
                  <label class="control-label" for="control-label"><span style="color: #565c65;"><i class="fa fa-info-circle"></i></span></label>
                </div>
                <fieldset class="usa-fieldset">
                  <div class="usa-radio">
                    <input class="result-type usa-radio__input" id="organization" type="radio"
                      value="Organization" />
                    <label class="usa-radio__label" for="organization">Organization Data</label>
                  </div>
                  <div class="usa-radio">
                    <input checked="checked" type="radio" class="result-type usa-radio__input" id="sites"
                      type="radio" value="Station" />
                    <label class="usa-radio__label" for="sites">Site data only</label>
                  </div>
                  <div class="usa-radio">
                    <input class="result-type usa-radio__input" id="projects" type="radio" value="Project" />
                    <label class="usa-radio__label" for="projects">Project data</label>
                  </div>
                  <div class="usa-radio">
                    <input class="result-type usa-radio__input" id="proj-mon-weight" type="radio"
                      value="ProjectMonitoringLocationWeighting" />
                    <label class="usa-radio__label" for="proj-mon-weight">Project Monitoring Location Weighting
                      data</label>
                  </div>
                  <div class="usa-radio">
                    <input class="result-type usa-radio__input" id="samples" type="radio" value="Result" />
                    <label class="usa-radio__label" for="samples">Sample results (physical/chemical
                      metadata)</label>
                  </div>
                  <div class="usa-radio">
                    <input class="result-type usa-radio__input" id="biosamples" type="radio" value="Result" />
                    <label class="usa-radio__label" for="biosamples">Sample results (biological metadata)</label>
                  </div>
                  <div class="usa-radio">
                    <input class="result-type usa-radio__input" id="narrowsamples" type="radio" value="Result" />
                    <label class="usa-radio__label" for="narrowsamples">Sample results (narrow)</label>
                  </div>
                  <div class="usa-radio">
                    <input class="result-type usa-radio__input" id="activity-input" type="radio" value="Activity" />
                    <label class="usa-radio__label" for="activity-input">Sampling Activity</label>
                  </div>
                  <div class="usa-radio">
                    <input class="result-type usa-radio__input" id="activitymetric-input" type="radio"
                      value="ActivityMetric" />
                    <label class="usa-radio__label" for="activitymetric-input">Sampling Activity Metrics</label>
                  </div>
                  <div class="usa-radio">
                    <input class="result-type usa-radio__input" id="resultdetection" type="radio"
                      value="ResultDetectionQuantitationLimit" />
                    <label class="usa-radio__label" for="resultdetection">Result Detection Quantitation Limit
                      Data</label>
                  </div>
                  <div class="usa-radio">
                    <input class="result-type usa-radio__input" id="biologicalHabitatMetric" type="radio"
                      value="biologicalHabitatMetric" />
                    <label class="usa-radio__label" for="biologicalHabitatMetric">Biological Habitat Metrics</label>
                  </div>
                </fieldset>
              </div>
              <div id="map-and-query-div" class="tablet:grid-col-4">
                <!-- <div id="mapping-div" class="panel-body">
                  <div id="map-ops-button-div" class="form-inline">
                    <div id="show-on-map-button-div" class="form-group">
                      <button type="button" class="usa-button usa-button--outline" id="show-on-map-button">
                        Show sites on map
                      </button>
                    </div>
                    <div id="sld-select-div" class="usa-label">
                      <label>Style sites:&nbsp;</label>
                      <select id="sld-select-input" class="usa-select">
                        {% for sld in config.SITE_SLDS %}
                        <option value="{{ sld.id }}" {% if loop.first %}checked{% endif %}>
                          {{ sld.text }}
                        </option>
                        {% endfor %}
                      </select>
                    </div>
                  </div>
                  <div id="query-map-container">
                    <div id="query-results-map"></div>
                    <div id="map-loading-indicator">
                      <i class="fa fa-spin fa-spinner fa-5x"></i>
                    </div>
                    <div id="map-popover" title="Detailed site information" data-trigger="focus"></div>
                  </div>
                  <div id="query-map-legend-div">
                    <div class="legend-header">Sites Legend</div>
                    <div class="legend-container"></div>
                  </div>
                </div> -->
                <div id="form-action">
                  <div class="share-container" style="padding-top: 5px;">
                    <button type="button" class="usa-button usa-button--outline" style="float: right; margin-bottom: 10px;" aria-label="Button to copy current URL">
                      Copy Current URL
                    </button>
                    <textarea class="wqp-textarea" class="usa-textarea" readonly rows="3" style="margin-bottom: 10px;" aria-label="Current URL based on input search parameters"></textarea>
                  </div>
                </div>
                <div id="show-queries-div" class="grid-col">
                  <!-- <a href="#arcgis-online-modal" class="usa-button usa-button--outline" id="show-arcgis-online-help" type="button" aria-controls="arcgis-online-modal" data-open-modal>
                    Show ArcGIS Online Parameters
                  </a> -->
                  <div class="usa-modal usa-modal--lg" id="arcgis-online-modal" aria-labelledby="modal-2-heading" aria-describedby="modal-2-description">
                    <div class="usa-modal__content">
                      <div class="usa-modal__main">
                        <h2 class="usa-modal__heading" id="modal-2-heading">
                          Are you sure you want to continue?
                        </h2>
                        <div class="usa-prose">
                          <p id="modal-2-description">You have unsaved changes that will be lost.</p>
                        </div>
                        <div class="usa-modal__footer">
                          <ul class="usa-button-group">
                            <li class="usa-button-group__item">
                                <button type="button" class="usa-button" data-close-modal>Continue without saving</button>
                              </li>
                            <li class="usa-button-group__item">
                                <button type="button" class="usa-button usa-button--unstyled padding-105 text-center" data-close-modal>Go back</button>
                              </li>
                            </ul>
                        </div>
                      </div>
                      <button class="usa-button usa-modal__close" aria-label="Close this window" data-close-modal>
                        
                  <svg class="usa-icon" aria-hidden="true" focusable="false" role="img">
                    <use xlink:href="/assets/img/sprite.svg#close"></use>
                  </svg>
                
                        </button>
                      </div>
                  </div>
                  &nbsp;
                  <button class="usa-button usa-button--outline" id="show-queries-button" type="button" style="float: right; margin-bottom: 10px;" aria-label="Button to display web service calls">
                    Web Service Calls
                  </button>
                  &nbsp;
                  <div id="api-queries-div">
                    <div class="show-query-text" id="query-div">
                      <b></b>
                      <textarea class="wqp-textarea" class="usa-textarea" readonly="readonly" rows="6" aria-label="Current data download URL based on input search parameters"></textarea>
                    </div>
                    <div class="show-query-text" id="curl-query-div">
                      <b>cURL</b>
                      <textarea class="wqp-textarea" class="usa-textarea" readonly="readonly" rows="6" aria-label="Current cURL based on input search parameters"></textarea>
                    </div>
                    <div class="show-query-text" id="getfeature-query-div">
                      <b>WFS GetFeature</b>
                      <textarea class="wqp-textarea" class="usa-textarea" readonly="readonly" rows="6" aria-label="Current WFS GetFeature URL based on input search parameters"></textarea>
                    </div>
                  </div>
                </div>
                <a href="#download-status-modal" id="main-button" class="usa-button" type="submit" aria-controls="example-modal-1" style="float: right; margin-top: 20px;">
                  DOWNLOAD
                </a>
                <div class="usa-modal" id="download-status-modal" aria-labelledby="modal-1-heading" aria-describedby="modal-1-description">
                  <div class="usa-modal__content">
                    <div class="usa-modal__main">
                      <h2 class="usa-modal__heading" id="modal-2-heading">
                        Are you sure you want to continue?
                      </h2>
                      <div class="usa-prose">
                        <p id="modal-2-description">You have unsaved changes that will be lost.</p>
                      </div>
                      <div class="usa-modal__footer">
                        <ul class="usa-button-group">
                          <li class="usa-button-group__item">
                              <button type="button" class="usa-button" data-close-modal>Continue without saving</button>
                            </li>
                          <li class="usa-button-group__item">
                              <button type="button" class="usa-button usa-button--unstyled padding-105 text-center" data-close-modal>Go back</button>
                            </li>
                          </ul>
                      </div>
                    </div>
                    <button class="usa-button usa-modal__close" aria-label="Close this window" data-close-modal>
                      
                <svg class="usa-icon" aria-hidden="true" focusable="false" role="img">
                  <use xlink:href="/assets/img/sprite.svg#close"></use>
                </svg>
              
                      </button>
                    </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
</div>


{% endblock %}

{% block body_page_script %}
{% include "partials/hide_non_usgs_epa_logos.html" %}
<script type="text/javascript">

	// The following code makes interior links clickable
	$(document).ready(function () {
		// hiding advanced form by default
		$("#advancedForm").hide();

		// initializeing multiselects 
		$('#countrycodeBasic').select2();
		$('#countycodeBasic').select2();
		$('#statecodeBasic').select2();
		$('#siteTypeBasic').select2();
		$('#datasourceBasic').select2();
		$('#sampleMediaBasic').select2();
		$('#charGroupBasic').select2();
		$('#dataTypeBasic').select2();
		$('#fileFormatBasic').select2();

		$('.index-box-primary').click(function () {
			window.location = $(this).find('a').attr('href');
			return false;
		});
		$('.index-box-secondary').click(function () {
			window.location = $(this).find('a').attr('href');
		});
		$('.index-box-secondary .interior-list').click(function () {
			window.location = $(this).find('a').attr('href');
		});

		// showing Location Parameters first for basic form
		$("#basicLocation").show();
		$("#basicFilterResults").hide();
		$("#basicDownload").hide();
		// Initialize Vue.js
		var basicForm = new Vue({
			el: '#basicForm',
			delimiters: ['[[', ']]'],
			name: 'us-step-indicator',
			components: {},
			props: {
				// Show step labels
				showLabels: {
					type: Boolean,
					default: false
				},
				// Center counters and labels in each step
				centerLabels: {
					type: Boolean,
					default: false
				},
				// Show step counters
				showStepNumbers: {
					type: Boolean,
					default: false
				},
				// Show small step counters
				size: {
					type: String,
					default: 'sm'
				},
				step: {
					type: Number,
					default: 0
				},
				variant: {
					type: String,
					default: 'info'
				}
			},
			computed: {
				currentTitle() {
					if (this.steps && this.steps[this.step]) {
						if (this.steps[this.step].title) {
							return this.steps[this.step].title;
						}
						else {
							return this.steps[this.step];
						}
					}
					return '';
				}
			},
			data: {
				steps: [
					'Location Parameters',
					'Filter Results',
					'Download',
				],
				latBasic: '',
				lonBasic: '',
			},
			methods: {
				onClickTitle() {
					this.$emit('selectTitle', this.currentTitle);
				},
				onNext() {
					if (this.step < this.steps.length - 1) {
						this.step += 1;
					} else {
						this.step = 0;
					}
					this.showStepParameters()
				},
				onPrev() {
					if (this.step > 0) {
						this.step -= 1;
					} else {
						this.step = this.steps.length - 1;
					}
					this.showStepParameters()
				},
				showStepParameters() {
					if (this.step === 0) {
						$("#basicLocation").show();
						$("#basicFilterResults").hide();
						$("#basicDownload").hide();
					} else if (this.step === 1) {
						$("#basicLocation").hide();
						$("#basicFilterResults").show();
						$("#basicDownload").hide();
					} else if (this.step === 2) {
						$("#basicLocation").hide();
						$("#basicFilterResults").hide();
						$("#basicDownload").show();
					}
				},
				getlocation() {
					if (window.navigator.geolocation && window.navigator.geolocation.getCurrentPosition) {
						if (navigator.geolocation) {
							navigator.geolocation.getCurrentPosition();
						}
					}
				},
				toggleForms() {
					if ($("#advancedForm").css('display') == "none") {
						$("#basicForm").hide();
						$("#advancedForm").show();
					} else {
						$("#advancedForm").hide();
						$("#basicForm").show();
					}
				},
				closeIntro() {
					$('#formIntro').hide();
				}
			},
		});
	});

</script>
<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
<script type="text/javascript" src="{{ 'scripts/portal.js' | asset_url }}"></script>
{% endblock %}